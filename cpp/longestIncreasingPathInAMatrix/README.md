DFS + DP. Record the longest increasing path of each node.  
Time complexity O(2^n), Space complexity O(n^2)