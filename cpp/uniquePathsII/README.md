DP. If there is no obstacle in a point, the solution of this point is the solution of the left and top of this point.  
Time complexity O(nm), Space complexity O(nm)