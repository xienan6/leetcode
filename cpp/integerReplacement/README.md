If n is even, replace n with n/2. If n is odd and (n + 1) % 4 == 0 and n is not 3, replace n with either n + 1, else replace n with n - 1.  
Time complexity O(n / 2), Space complexity O(1)