Use a hashmap to record last index.  
Time complexity O(n), Space complexity O(n)