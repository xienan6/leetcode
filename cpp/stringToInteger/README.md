simulate

Time complexity O(n)
