Each point is a single point or a point with two rectangles or a point with four rectangles. The result will only leave four points with a rectangle.  
Time complexity O(n), Space complexity O(n)