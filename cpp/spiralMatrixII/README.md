Use four boundaries guarantee output.  
Time complexity O(n^2), Space complexity O(n^2)